# üöÄ Ultimate Data Pipeline
## –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –º–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è STAVKI

---

# üéØ –¶–µ–ª—å

> –°–æ–∑–¥–∞—Ç—å **–∏–¥–µ–∞–ª—å–Ω—É—é** —Å–∏—Å—Ç–µ–º—É –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è –¥–∞—Å—Ç –Ω–∞–º **–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ** –Ω–∞–¥ —Ä—ã–Ω–∫–æ–º.

```mermaid
flowchart LR
    A["üìä –ë–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö"] --> B["üéØ –õ—É—á—à–µ –ø—Ä–æ–≥–Ω–æ–∑—ã"]
    B --> C["üí∞ –ë–æ–ª—å—à–µ –ø—Ä–∏–±—ã–ª—å"]
```

---

# üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

````carousel
## ‚úÖ –ß—Ç–æ —É–∂–µ –µ—Å—Ç—å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|:---|:---:|
| The Odds API | ‚úÖ |
| ELO —Ä–µ–π—Ç–∏–Ω–≥–∏ | ‚úÖ |
| –§–æ—Ä–º–∞ –∫–æ–º–∞–Ω–¥ | ‚úÖ |
| Line Movement | ‚úÖ |
| CLV Tracking | ‚úÖ |
| Sentiment (–±–∞–∑–æ–≤—ã–π) | ‚úÖ |
<!-- slide -->
## ‚ùå –ß–µ–≥–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç

| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å | –°—Ç–∞—Ç—É—Å |
|:---|:---:|
| Pinnacle (sharp line) | ‚ùå |
| Betfair (liquidity) | ‚ùå |
| Weather –¥–∞–Ω–Ω—ã–µ | ‚ùå |
| xG —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | ‚ùå |
| –†–µ–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–≤–º—ã | ‚ùå |
| Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | ‚ùå |
````

---

# üåê –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
flowchart TB
    subgraph SOURCES["üì° –ò–°–¢–û–ß–ù–ò–ö–ò"]
        S1["üèÜ Pinnacle<br/>Sharp line"]
        S2["üìä Betfair<br/>Exchange"]
        S3["üåê The Odds API<br/>10+ –±—É–∫–º–µ–∫–µ—Ä–æ–≤"]
        S4["üå§Ô∏è Weather<br/>–ü–æ–≥–æ–¥–∞"]
        S5["‚öΩ xG<br/>Understat"]
        S6["üè• Injuries<br/>–¢—Ä–∞–≤–º—ã"]
    end
    
    subgraph ENGINE["‚öôÔ∏è –û–ë–†–ê–ë–û–¢–ö–ê"]
        E1["Collector"]
        E2["Normalizer"]
        E3["Feature Builder"]
    end
    
    subgraph OUTPUT["ÔøΩ –†–ï–ó–£–õ–¨–¢–ê–¢"]
        O1["50+ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤"]
        O2["Real-time alerts"]
    end
    
    SOURCES --> ENGINE --> OUTPUT
```

---

# üì° –ù–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

````carousel
## üèÜ Pinnacle ‚Äî "–ü—Ä–∞–≤–¥–∞ —Ä—ã–Ω–∫–∞"

**–ß—Ç–æ —ç—Ç–æ:** –°–∞–º—ã–π –æ—Å—Ç—Ä—ã–π –±—É–∫–º–µ–∫–µ—Ä –≤ –º–∏—Ä–µ

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**
- –ï–≥–æ closing line = –∏—Å—Ç–∏–Ω–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å
- CLV –±–µ–Ω—á–º–∞—Ä–∫
- –ï—Å–ª–∏ –±—å—ë–º Pinnacle ‚Üí –º—ã –ø—Ä–∏–±—ã–ª—å–Ω—ã

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$50/–º–µ—Å—è—Ü
<!-- slide -->
## üìä Betfair Exchange

**–ß—Ç–æ —ç—Ç–æ:** –ë–∏—Ä–∂–∞ —Å—Ç–∞–≤–æ–∫ (–ª—é–¥–∏ —Å—Ç–∞–≤—è—Ç –¥—Ä—É–≥ –ø—Ä–æ—Ç–∏–≤ –¥—Ä—É–≥–∞)

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**
- –†–µ–∞–ª—å–Ω–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å (–º–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç—å —Å—Ç–∞–≤–∫—É?)
- –ù–µ—Ç –º–∞—Ä–∂–∏ –±—É–∫–º–µ–∫–µ—Ä–∞
- –ò—Å—Ç–∏–Ω–Ω—ã–µ —Ä—ã–Ω–æ—á–Ω—ã–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π API
<!-- slide -->
## üå§Ô∏è Weather API

**–ß—Ç–æ —ç—Ç–æ:** –ü–æ–≥–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –º–∞—Ç—á–∞

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**
- –î–æ–∂–¥—å ‚Üí –º–µ–Ω—å—à–µ –≥–æ–ª–æ–≤
- –í–µ—Ç–µ—Ä ‚Üí –º–µ–Ω—å—à–µ —Ç–æ—á–Ω—ã—Ö –ø–µ—Ä–µ–¥–∞—á
- –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è –ø–æ–≥–æ–¥–∞ ‚Üí –±–æ–ª—å—à–µ –Ω–∏—á—å–∏—Ö

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (OpenWeatherMap)
<!-- slide -->
## ‚öΩ xG Data (Expected Goals)

**–ß—Ç–æ —ç—Ç–æ:** –û–∂–∏–¥–∞–µ–º—ã–µ –≥–æ–ª—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–º–µ–Ω—Ç–æ–≤

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**
- –õ—É—á—à–µ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –±—É–¥—É—â–µ–µ —á–µ–º actual goals
- –í—ã—è–≤–ª—è–µ—Ç over/under performers
- Regression to mean

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (Understat scraping)
<!-- slide -->
## üè• Injury & Lineup Data

**–ß—Ç–æ —ç—Ç–æ:** –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Ç—Ä–∞–≤–º–∞—Ö –∏ —Å–æ—Å—Ç–∞–≤–∞—Ö

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–≤–µ–∑–¥—ã = -10% —Å–∏–ª—ã –∫–æ–º–∞–Ω–¥—ã
- Last-minute lineup changes
- Edge –∑–∞ –º–∏–Ω—É—Ç—ã –¥–æ –º–∞—Ç—á–∞

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (FotMob scraping)
````

---

# üîß 50+ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤

```mermaid
mindmap
  root((–ü—Ä–∏–∑–Ω–∞–∫–∏))
    üéØ Core
      ELO Rating
      Form Points
      Goals For/Against
      Streak
    üíπ Market
      Best Odds
      Opening vs Current
      Line Movement
      CLV History
      Sharp Move Signal
    üå§Ô∏è Alternative
      Weather Score
      Injury Count
      Sentiment
      xG Performance
      Squad Value
    ‚è∞ Time
      Days Rest
      Hours to Kickoff
      Congestion Factor
```

---

# üí∞ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

| –£–ª—É—á—à–µ–Ω–∏–µ | –ü—Ä–∏—Ä–æ—Å—Ç ROI |
|:---|:---:|
| ÔøΩ Pinnacle CLV tracking | **+2-3%** |
| üå§Ô∏è Weather features | **+0.5-1%** |
| ‚öΩ xG features | **+1-2%** |
| ‚ö° Real-time odds | **+1-2%** |
| üè• Lineup data | **+0.5-1%** |
| üìä Multi-bookmaker | **+1-2%** |
| **–ò–¢–û–ì–û** | **+6-11%** |

---

# üóìÔ∏è –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

```mermaid
gantt
    title 4 —Ñ–∞–∑—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
    dateFormat  YYYY-MM-DD
    section Phase 0
    Foundation     :p0, 2026-02-04, 7d
    section Phase 1
    Multi-Source   :p1, after p0, 14d
    section Phase 2
    Alt Data       :p2, after p1, 14d
    section Phase 3
    Real-time      :p3, after p2, 7d
```

---

# üë• –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π

## ü§ñ –ß—Ç–æ —Å–¥–µ–ª–∞—é –Ø (Antigravity):

| –ó–∞–¥–∞—á–∞ | –í—Ä–µ–º—è |
|:---|:---:|
| ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Weather API | 2 —á–∞—Å–∞ |
| ‚úÖ Understat scraper –¥–ª—è xG | 3 —á–∞—Å–∞ |
| ‚úÖ FotMob scraper –¥–ª—è —Ç—Ä–∞–≤–º | 3 —á–∞—Å–∞ |
| ‚úÖ Upgrade feature extractor (50+ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤) | 4 —á–∞—Å–∞ |
| ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ snapshot collector | 2 —á–∞—Å–∞ |
| ‚úÖ Multi-bookmaker best price selector | 2 —á–∞—Å–∞ |
| ‚úÖ –¢–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π | 3 —á–∞—Å–∞ |

---

## üë§ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¢–ï–ë–ï:

````carousel
## 1Ô∏è‚É£ Pinnacle API

**–î–µ–π—Å—Ç–≤–∏–µ:** –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ Pinnacle

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ [pinnacle.com](https://www.pinnacle.com)
2. –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ API –¥–æ—Å—Ç—É–ø
3. –ü–æ–ª—É—á–∏—Ç—å API key –∏ secret
4. –ü–µ—Ä–µ–¥–∞—Ç—å –º–Ω–µ credentials

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$50/–º–µ—Å—è—Ü
**–í—Ä–µ–º—è:** 1-2 –¥–Ω—è –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ
<!-- slide -->
## 2Ô∏è‚É£ Betfair API

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å Betfair Exchange API

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ [betfair.com](https://www.betfair.com)
2. –ó–∞–π—Ç–∏ –≤ Developer Portal
3. –°–æ–∑–¥–∞—Ç—å Application Key
4. –ü–µ—Ä–µ–¥–∞—Ç—å –º–Ω–µ API key

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
**–í—Ä–µ–º—è:** 10 –º–∏–Ω—É—Ç
<!-- slide -->
## 3Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Cron

**–î–µ–π—Å—Ç–≤–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

**–®–∞–≥–∏:**
1. –Ø –Ω–∞–ø–∏—à—É —Å–∫—Ä–∏–ø—Ç
2. –¢—ã –Ω–∞—Å—Ç—Ä–æ–∏—à—å cron –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
*/30 * * * * python collect_all_data.py
```

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
**–í—Ä–µ–º—è:** 5 –º–∏–Ω—É—Ç
<!-- slide -->
## 4Ô∏è‚É£ –†–µ—à–µ–Ω–∏—è –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º

**–ù—É–∂–Ω—ã –æ—Ç–≤–µ—Ç—ã:**

1. **Pinnacle** ‚Äî –ì–æ—Ç–æ–≤ –ø–ª–∞—Ç–∏—Ç—å ~$50/–º–µ—Å—è—Ü?
   - [ ] –î–∞
   - [ ] –ù–µ—Ç, —Ç–æ–ª—å–∫–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ

2. **Betfair** ‚Äî –ù—É–∂–µ–Ω?
   - [ ] –î–∞
   - [ ] –ù–µ—Ç

3. **Storage** ‚Äî –û—Å—Ç–∞–≤–∏—Ç—å SQLite –∏–ª–∏ upgrade?
   - [ ] SQLite (–ø—Ä–æ—Å—Ç–æ)
   - [ ] TimescaleDB (–º–æ—â–Ω–æ)
````

---

# üö¶ –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç

```mermaid
flowchart TB
    subgraph YOU["üë§ –¢–´"]
        Y1["1Ô∏è‚É£ –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã"]
        Y2["2Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç—å Pinnacle API"]
        Y3["3Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç—å Betfair API"]
        Y4["4Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cron"]
    end
    
    subgraph ME["ü§ñ –Ø"]
        M1["1Ô∏è‚É£ Weather API"]
        M2["2Ô∏è‚É£ xG scraper"]
        M3["3Ô∏è‚É£ Injuries scraper"]
        M4["4Ô∏è‚É£ 50+ features"]
        M5["5Ô∏è‚É£ Pinnacle integration"]
        M6["6Ô∏è‚É£ Betfair integration"]
        M7["7Ô∏è‚É£ –¢–µ—Å—Ç—ã"]
    end
    
    Y1 --> M1
    Y2 --> M5
    Y3 --> M6
    M1 --> M2 --> M3 --> M4 --> M7
    
    style YOU fill:#fff3e0
    style ME fill:#e8f5e9
```

---

# ‚è≠Ô∏è –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

> –û—Ç–≤–µ—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –≤—ã—à–µ, –∏ —è –Ω–∞—á–Ω—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é!

**–í–æ–ø—Ä–æ—Å—ã:**

1. üèÜ **Pinnacle API** (~$50/–º–µ—Å—è—Ü) ‚Äî –î–∞/–ù–µ—Ç?

2. üìä **Betfair API** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ) ‚Äî –î–∞/–ù–µ—Ç?

3. üíæ **Storage upgrade** ‚Äî SQLite –∏–ª–∏ TimescaleDB?

4. ‚ö° **Real-time** ‚Äî 5 –º–∏–Ω—É—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–ª–∏ –Ω—É–∂–µ–Ω WebSocket?

---

# ‚úÖ –ü–æ—Å–ª–µ —Ç–≤–æ–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤

–Ø —Å—Ä–∞–∑—É –Ω–∞—á–Ω—É —Å —Ç–æ–≥–æ, —á—Ç–æ **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–≤–æ–µ–≥–æ —É—á–∞—Å—Ç–∏—è:**

1. ‚úÖ Weather API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
2. ‚úÖ xG Understat scraper  
3. ‚úÖ Injuries FotMob scraper
4. ‚úÖ 50+ feature extractor
5. ‚úÖ –¢–µ—Å—Ç—ã

**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å API –∫–ª—é—á–∏, –∏ –∫–æ–≥–¥–∞ –æ–Ω–∏ –±—É–¥—É—Ç –≥–æ—Ç–æ–≤—ã ‚Äî —è –∏—Ö –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—é.
